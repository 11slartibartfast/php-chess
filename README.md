## PGN Chess for PHP

![PGN Chess](/resources/chess-move.jpg?raw=true)

This is a simple, friendly, and powerful PGN (Portable Game Notation) library for running chess games from within PHP applications. It understands the rules of chess, and is capable of validating and playing PGN notated games.

PGN Chess comes to the rescue in the following scenarios:

- Develop APIs on the server side for validating chess games
- Create funny, random games for fun
- Analyze games of chess
- Validate games
- Build chess-related web apps
- Play chess moves

### 1. Install

Via composer:

    $ composer require programarivm/pgn-chess

### 2. Usage

Just instantiate a board, and play PGN moves converted into PHP objects as shown below.

```php
<?php
use PGNChess\Board;
use PGNChess\PGN\Converter;
use PGNChess\PGN\Symbol;

$board = new Board;

$board->play(Converter::toObject(Symbol::COLOR_WHITE, 'e4');
```

The call to the `$board->play` method returns `true` or `false` depending on whether or not a chess move can be run on the board. It is up to you to process the result accordingly.

### 3. Examples

This is the output obtained when running `game01.php`:

    $ php examples/game01.php
    w played d4, OK...
    b played d6, OK...
    w played c4, OK...
    b played g6, OK...
    w played Nc3, OK...
    b played Bg7, OK...
    w played e4, OK...
    b played e6, OK...
    w played Nf3, OK...
    b played Ne7, OK...
    w played Bd3, OK...
    b played O-O, OK...
    w played Qc2, OK...
    b played Nd7, OK...
    w played O-O-O, illegal move.

In this particular example we're printing the output and exiting the game if an illegal chess move is found. But obviously you can take a different approach, for example go into a loop till the player runs a valid move.

Again, it is up to you how to process the moves accordingly -- ask the player to please try again, play a sound, exit the game or whatever thing you consider appropriate. The important thing is that PGN Chess understands chess rules, internally replicating the game being played on the board.

Let's look at another example, the output generated by `game02.php`:

    $ php game02.php
    w played e4, OK...
    b played e5, OK...
    w played Nf3, OK...
    b played Nc6, OK...
    w played Bb5, OK...
    b played a6, OK...
    w played Ba4, OK...
    b played Nf6, OK...
    w played Nc3, OK...
    b played d6, OK...
    w played d3, OK...
    b played b5, OK...
    w played Bb3, OK...
    b played Be7, OK...
    w played Be3, OK...
    b played Na5, OK...
    w played Bd5, OK...
    b played Nxd5, OK...
    w played Nxd5, OK...
    b played c5, OK...
    w played Nxe7, OK...
    b played Qxe7, OK...
    w played O-O, OK...
    b played Nc6, OK...
    w played Bg5, OK...
    b played f6, OK...
    w played Be3, OK...
    b played O-O, OK...
    w played h3, OK...
    b played Be6, OK...
    w played Qd2, OK...
    b played Nd4, OK...
    w played Nh4, OK...
    b played Qd7, OK...
    w played Kh2, OK...
    b played g5, OK...
    w played c3, OK...
    b played Nc6, OK...
    w played Nf3, OK...
    b played g4, OK...
    w played hxg4, OK...
    b played Bxg4, OK...
    w played Nh4, OK...
    b played Kh8, OK...
    w played Bh6, OK...
    b played Rg8, OK...
    w played f4, OK...
    b played Bh5, OK...
    w played fxe5, OK...
    b played fxe5, OK...
    w played Nf5, OK...
    b played Bg6, OK...
    w played d4, OK...
    b played Bxf5, OK...
    w played Rxf5, OK...
    b played cxd4, OK...
    w played cxd4, OK...
    b played Nxd4, OK...
    w played Rf6, OK...
    b played Rg6, OK...
    w played Raf1, OK...
    b played Rag8, OK...
    w played Rf8, OK...
    b played Ne6, OK...
    w played Rxg8+, OK...
    b played Kxg8, OK...
    w played Qf2, OK...
    b played Rxh6+, OK...
    w played Kg1, OK...
    b played Nf4, OK...
    w played Qb6, OK...
    b played Rg6, OK...
    w played Qb8+, OK...
    b played Kg7, OK...
    w played Rxf4, OK...
    b played exf4, OK...

### 4. PGN Format

Need some more examples? Look at the format used in the following moves, they all will be processed OK by PGN Chess.

    1. e4 e5 2. Nc3 Nf6 3. f4 exf4 4. d4 Bb4 5. e5 Bxc3+ 6. bxc3 Nd5 7. c4 Qh4+
    8. g3 fxg3 9. Nf3 Qe4+ 10. Qe2 Qxe2+ 11. Bxe2 gxh2 12. cxd5 d6 13. Rxh2 Bg4
    14. Ba3 dxe5 15. dxe5 Nd7 16. Rg2 Bxf3 17. Bxf3 Nxe5 18. Re2 f6 19. d6 O-O-O
    20. Bg2 cxd6 21. Rd1 Kc7 22. Red2 Rd7 23. Bxd6+ Kc8 24. Rd4 Rhd8 25. Bh3
    Nf3+ 26. Kf2 Nxd4 27. Bxd7+ Rxd7 28. Rxd4 Rxd6 29. Rxd6 Kc7 30. Rd3 b6 31.
    Ke3 g6 32. Rd5 h5 33. c4 g5 34. Kf3 h4 35. Kg4 Kc6 36. Kf5 b5 37. Kxf6 bxc4
    38. Rd1 g4 39. Kg5 g3 40. Kxh4 g2 41. Rg1 c3 42. Rxg2 a5 43. Rc2 Kb5 44.
    Rxc3 Kb4 45. Rg3 a4 46. Kg4 Kc4 47. Kf4 Kd4 48. Kf5 Kc4 49. Ke5 Kb4 50. Kd5
    Kb5 51. Kd4 Kb4 52. Ke4 Kc4 53. Ke5 Kb4 54. Kd5 Kb5 55. Rg4 a3 56. Rg3 Kb4
    57. Kd6 Ka4 58. Kc5 Ka5 59. Rxa3# {Black checkmated} 1-0

    1. e4 c5 2. Nc3 Nc6 3. Bb5 g6 4. Bxc6 bxc6 5. d3 Bg7 6. f4 e6 7. Nf3 Ne7 8.
    O-O O-O 9. Qe1 d5 10. Qh4 d4 11. Ne2 Qc7 12. g4 e5 13. f5 gxf5 14. gxf5 Qd6
    15. Bh6 Bxh6 16. Qg3+ Bg7 17. Nh4 Qh6 18. f6 Ng6 19. fxg7 Kxg7 20. Nf5+ Bxf5
    21. exf5 Qe3+ 22. Qxe3 dxe3 23. fxg6 fxg6 24. Rxf8 Rxf8 25. Rf1 Rb8 26. Rf3
    Rxb2 27. Rxe3 Rxc2 28. a4 Ra2 29. Rxe5 Rxa4 30. Rxc5 Ra3 31. Rxc6 Rxd3 32.
    Kf2 Rd7 33. Ra6 h5 34. Nf4 Rf7 35. Ke3 Re7+ 36. Kf3 Rf7 37. Ke4 Re7+ 38. Re6
    Rxe6+ 39. Nxe6+ Kf6 40. Nd4 g5 41. h3 a5 42. Nc6 a4 43. Nb4 a3 44. Na2 g4
    45. hxg4 Kg5 46. Ke3 hxg4 47. Kf2 Kf4 48. Kg2 g3 49. Nc3 Kg4 50. Na2 Kf4 51.
    Nc3 Kg4 52. Na2 Kf4 53. Nc1 Ke3 54. Kxg3 Kd2 55. Nb3+ Kc2 56. Kf3 a2 57. Ke3
    Kb2 58. Kd2 Kxb3 59. Kc1 Ka3 60. Kd2 Kb2 61. Kd3 a1=Q 62. Kc4 Ka3 63. Kc5
    Qb2 64. Kd6 Qc2 65. Ke6 Qd2 {White forfeits on time} 0-1

### 5. License

The MIT License (MIT).

### 6. Contributions

Would you help make this library better? Contributions are welcome! Feel free to send a pull request.
